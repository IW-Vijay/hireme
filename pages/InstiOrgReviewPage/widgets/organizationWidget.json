{
  "backgroundColor": "#d9d9d9",
  "borderColor": "#E0DEDE",
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "borderWidth": "2",
  "bottomRow": 40,
  "boxShadow": "0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",
  "defaultModel": "{{organizationsJSObject.getOrganizations.data\n}}",
  "dynamicBindingPathList": [
    {
      "key": "theme"
    },
    {
      "key": "borderRadius"
    },
    {
      "key": "defaultModel"
    }
  ],
  "dynamicHeight": "AUTO_HEIGHT",
  "dynamicPropertyPathList": [
    {
      "key": "backgroundColor"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onOrganizationClick"
    }
  ],
  "events": [
    "onOrganizationClick"
  ],
  "isCanvas": false,
  "isLoading": false,
  "isSearchWildcard": true,
  "isVisible": true,
  "key": "vllb69qte6",
  "leftColumn": 32,
  "maxDynamicHeight": 9000,
  "minDynamicHeight": 4,
  "mobileBottomRow": 150,
  "mobileLeftColumn": 17,
  "mobileRightColumn": 40,
  "mobileTopRow": 120,
  "needsErrorInfo": false,
  "onOrganizationClick": "{{navigateTo('InstiOrgReviewPage', {\n  \"organization\": organizationWidget.model.organization\n}, 'SAME_WINDOW');}}",
  "originalBottomRow": 39,
  "originalTopRow": 9,
  "parentColumnSpace": 19.8125,
  "parentId": "0",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "rightColumn": 64,
  "shouldScrollContents": true,
  "srcDoc": {
    "css": ".widget-container {\n  width: auto; /* Allow width to adjust based on content */\n  height: auto; /* Allow height to adjust based on content */\n  padding: 20px;\n  font-family: Arial, sans-serif;\n  overflow: hidden; /* Prevent scrollbars from appearing */\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\nh2 {\n  margin: 0;\n  font-size: 30px;\n  color: #231f20;\n  font: inter;\n}\n\nh3 {\n  margin-top: 20px;\n  margin-bottom: 10px;\n  color: #231f20;\n  font-family: inter;\n}\n\n.search-bar {\n  padding: 10px;\n  font-size: 16px;\n  width: 300px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.organizations-list {\n  display: block; /* Full width for each card */\n}\n\n.organization-card {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start; /* Align items at the top */\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  padding: 15px;\n  cursor: pointer;\n  width: calc(100% - 40px); /* Full width minus any padding for margins */\n  margin: 0 auto 20px; /* Center the card horizontally with automatic left and right margins */\n}\n\n.organization-card:hover {\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n}\n\n.organization-image {\n  width: 70px;\n  height: auto;\n  margin-right: 15px;\n}\n\n.organization-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start; /* Aligns items at the top */\n  width: 100%;\n}\n\n.organization-details {\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n}\n\n.organization-name {\n  font-size: 18px;\n  font-weight: bold;\n  color: #333;\n}\n\n.organization-description {\n  font-size: 14px;\n  color: #555;\n  margin-top: 10px;\n}\n\n.organization-address {\n  font-size: 14px;\n  color: #777;\n  text-align: right;\n  align-self: flex-start; /* Ensures the address aligns at the top */\n}",
    "html": "<div class=\"widget-container\">\n  <div class=\"header\">\n    <h2>Organizations</h2>\n    <input\n      type=\"text\"\n      class=\"search-bar\"\n      id=\"searchInput\"\n      placeholder=\"Search organizations...\"\n    />\n  </div>\n\t<!-- HTML Part -->\n<div id=\"organizationsContainer\">\n  <div id=\"loadingIndicator\" style=\"text-align: center; margin-top: 20px;\"></div>\n  <div id=\"organizationsList\"></div>\n</div>\n\n\n  <!-- Loading Indicator -->\n  <div id=\"loading\" style=\"display: none;\">Loading...</div>\n\n  <!-- Add the root element for React to render into -->\n  <div id=\"root\"></div>\n\n  <div id=\"organizationsList\" class=\"organizations-list\">\n    <!-- Cards will be injected here -->\n  </div>\n</div>\n",
    "js": "import React from 'https://cdn.jsdelivr.net/npm/react@18.2.0/+esm';\nimport reactDom from 'https://cdn.jsdelivr.net/npm/react-dom@18.2.0/+esm';\nimport { Spin } from 'https://cdn.jsdelivr.net/npm/antd@5.11.1/+esm';\nappsmith.onReady(function () {\n  const organizationsList = document.getElementById('organizationsList');\n  const loadingIndicator = document.getElementById('loadingIndicator');\n  const searchInput = document.getElementById('searchInput');\n  let organizations = []; // Global variable to store fetched organizations\n\n  // Function to show Ant Design's Spin component while loading\n  function showLoadingIndicator() {\n    reactDom.render( /*#__PURE__*/React.createElement(Spin, {\n      size: \"large\",\n      tip: \"Loading organizations...\"\n    }), loadingIndicator);\n  }\n\n  // Function to hide the loading indicator once the organizations are rendered\n  function hideLoadingIndicator() {\n    reactDom.render(null, loadingIndicator); // Clear the loading spinner\n  }\n  function singleQuoteRemoval(orgs) {\n    for (let key in orgs) {\n      if (typeof orgs[key] === 'string') {\n        orgs[key] = orgs[key].replace(/'/g, \"\"); // Remove single quotes\n      }\n    }\n    return JSON.stringify(orgs);\n  }\n\n  // Function to render the organization details into two lists\n  function renderOrganizations(organizationsData) {\n    let newOrganizationsHtml = '';\n    let updatedOrganizationsHtml = '';\n    if (organizationsData && organizationsData.length > 0) {\n      // Split the organizations based on their status\n      organizationsData.forEach(organization => {\n        const organizationCardHtml = `\n                    <div class=\"organization-card\" data-organization='${singleQuoteRemoval(organization)}'>\n                        <img class=\"organization-image\" src=\"${organization.image ? organization.image : 'data:image/png;base64,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'}\" alt=\"${organization.name}\" />\n                        <div class=\"organization-info\">\n                            <div class=\"organization-details\">\n                                <div class=\"organization-name\">${organization.name}</div>\n                                <div class=\"organization-description\">${organization.description || 'No description available'}</div>\n                            </div>\n                            <div class=\"organization-address\">${organization.address || 'Address not provided'}</div>\n                        </div>\n                    </div>\n                `;\n\n        // Check organization status and add to respective HTML variable\n        if (organization.status === 'new') {\n          newOrganizationsHtml += organizationCardHtml;\n        } else if (organization.status === 'updated') {\n          updatedOrganizationsHtml += organizationCardHtml;\n        }\n      });\n    } else {\n      newOrganizationsHtml = '<p>No organizations available.</p>';\n    }\n\n    // Combine both lists (new at the top, updated below)\n    organizationsList.innerHTML = `\n            <h3>New Organizations</h3>\n            ${newOrganizationsHtml || '<p>No new organizations.</p>'}\n            <h3>Updated Organizations</h3>\n            ${updatedOrganizationsHtml || '<p>No updated organizations.</p>'}\n        `;\n\n    // Hide the loading indicator once the organizations are rendered\n    hideLoadingIndicator();\n\n    // Attach click listeners to cards after rendering\n    const organizationCards = document.querySelectorAll('.organization-card');\n    organizationCards.forEach(card => {\n      card.addEventListener('click', () => handleCardClick(card.dataset.organization));\n    });\n  }\n\n  // Function to handle organization card click\n  function handleCardClick(organizationData) {\n    appsmith.updateModel({\n      \"organization\": organizationData\n    });\n    appsmith.triggerEvent(\"onOrganizationClick\");\n  }\n\n  // Function to handle search functionality\n  function handleSearch() {\n    const searchTerm = searchInput.value.toLowerCase();\n    const filteredOrganizations = organizations.filter(organization => organization.name.toLowerCase().includes(searchTerm) || organization.address?.toLowerCase().includes(searchTerm) // Include address in the search safely\n    );\n    renderOrganizations(filteredOrganizations);\n  }\n\n  // Function to check for data and render organizations\n  function checkForData() {\n    const fetchedOrganizations = appsmith.model.organizations;\n    if (fetchedOrganizations) {\n      organizations = fetchedOrganizations; // Store the fetched organizations globally\n      renderOrganizations(organizations);\n    } else {\n      // Retry after 500ms if the data is not available yet\n      setTimeout(checkForData, 500);\n    }\n  }\n\n  // Show the loading indicator while waiting for data\n  showLoadingIndicator();\n\n  // Start checking for data\n  checkForData();\n\n  // Attach event listener to the search input for live search filtering\n  searchInput.addEventListener('input', handleSearch);\n});"
  },
  "theme": "{{appsmith.theme}}",
  "topRow": 9,
  "type": "CUSTOM_WIDGET",
  "uncompiledSrcDoc": {
    "css": ".widget-container {\n  width: auto; /* Allow width to adjust based on content */\n  height: auto; /* Allow height to adjust based on content */\n  padding: 20px;\n  font-family: Arial, sans-serif;\n  overflow: hidden; /* Prevent scrollbars from appearing */\n}\n\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\nh2 {\n  margin: 0;\n  font-size: 30px;\n  color: #231f20;\n\tfont: inter;\n}\n\nh3 {\n\tmargin-top: 20px;\n\tmargin-bottom: 10px;\n  color: #231f20;\n  font-family: inter;\n}\n\n.search-bar {\n  padding: 10px;\n  font-size: 16px;\n  width: 300px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.organizations-list {\n  display: block; /* Full width for each card */\n}\n\n.organization-card {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start; /* Align items at the top */\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  padding: 15px;\n  cursor: pointer;\n  width: calc(100% - 40px); /* Full width minus any padding for margins */\n  margin: 0 auto 20px; /* Center the card horizontally with automatic left and right margins */\n}\n\n.organization-card:hover {\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n}\n\n.organization-image {\n  width: 70px;\n  height: auto;\n  margin-right: 15px;\n}\n\n.organization-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start; /* Aligns items at the top */\n  width: 100%;\n}\n\n.organization-details {\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n}\n\n.organization-name {\n  font-size: 18px;\n  font-weight: bold;\n  color: #333;\n}\n\n.organization-description {\n  font-size: 14px;\n  color: #555;\n  margin-top: 10px; \n}\n\n.organization-address {\n  font-size: 14px;\n  color: #777;\n  text-align: right;\n  align-self: flex-start; /* Ensures the address aligns at the top */\n}\n",
    "html": "<div class=\"widget-container\">\n  <div class=\"header\">\n    <h2>Organizations</h2>\n    <input\n      type=\"text\"\n      class=\"search-bar\"\n      id=\"searchInput\"\n      placeholder=\"Search organizations...\"\n    />\n  </div>\n\t<!-- HTML Part -->\n<div id=\"organizationsContainer\">\n  <div id=\"loadingIndicator\" style=\"text-align: center; margin-top: 20px;\"></div>\n  <div id=\"organizationsList\"></div>\n</div>\n\n\n  <!-- Loading Indicator -->\n  <div id=\"loading\" style=\"display: none;\">Loading...</div>\n\n  <!-- Add the root element for React to render into -->\n  <div id=\"root\"></div>\n\n  <div id=\"organizationsList\" class=\"organizations-list\">\n    <!-- Cards will be injected here -->\n  </div>\n</div>\n",
    "js": "import React from 'https://cdn.jsdelivr.net/npm/react@18.2.0/+esm';\nimport reactDom from 'https://cdn.jsdelivr.net/npm/react-dom@18.2.0/+esm';\nimport { Spin } from 'https://cdn.jsdelivr.net/npm/antd@5.11.1/+esm';\n\nappsmith.onReady(function() {\n    const organizationsList = document.getElementById('organizationsList');\n    const loadingIndicator = document.getElementById('loadingIndicator');\n    const searchInput = document.getElementById('searchInput');\n    let organizations = []; // Global variable to store fetched organizations\n\n    // Function to show Ant Design's Spin component while loading\n    function showLoadingIndicator() {\n        reactDom.render(<Spin size=\"large\" tip=\"Loading organizations...\" />, loadingIndicator);\n    }\n\n    // Function to hide the loading indicator once the organizations are rendered\n    function hideLoadingIndicator() {\n        reactDom.render(null, loadingIndicator); // Clear the loading spinner\n    }\n\t\n\t\tfunction singleQuoteRemoval(orgs){\n\t\t\t\t\t\t\t\tfor (let key in orgs) {\n\t\t\t\t\t\tif (typeof orgs[key] === 'string') {\n\t\t\t\t\t\t\torgs[key] = orgs[key].replace(/'/g, \"\"); // Remove single quotes\n\t\t\t\t\t\t}\n\t\t\t}\t\n\t\t\treturn JSON.stringify(orgs)\n\t\t}\n\n    // Function to render the organization details into two lists\n    function renderOrganizations(organizationsData) {\n        let newOrganizationsHtml = '';\n        let updatedOrganizationsHtml = '';\n\n        if (organizationsData && organizationsData.length > 0) {\n            // Split the organizations based on their status\n            organizationsData.forEach(organization => {\n                const organizationCardHtml = `\n                    <div class=\"organization-card\" data-organization='${singleQuoteRemoval(organization)}'>\n                        <img class=\"organization-image\" src=\"${organization.image ? organization.image : 'data:image/png;base64,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'}\" alt=\"${organization.name}\" />\n                        <div class=\"organization-info\">\n                            <div class=\"organization-details\">\n                                <div class=\"organization-name\">${organization.name}</div>\n                                <div class=\"organization-description\">${organization.description || 'No description available'}</div>\n                            </div>\n                            <div class=\"organization-address\">${organization.address || 'Address not provided'}</div>\n                        </div>\n                    </div>\n                `;\n\n                // Check organization status and add to respective HTML variable\n                if (organization.status === 'new') {\n                    newOrganizationsHtml += organizationCardHtml;\n                } else if (organization.status === 'updated') {\n                    updatedOrganizationsHtml += organizationCardHtml;\n                }\n            });\n        } else {\n            newOrganizationsHtml = '<p>No organizations available.</p>';\n        }\n\n        // Combine both lists (new at the top, updated below)\n        organizationsList.innerHTML = `\n            <h3>New Organizations</h3>\n            ${newOrganizationsHtml || '<p>No new organizations.</p>'}\n            <h3>Updated Organizations</h3>\n            ${updatedOrganizationsHtml || '<p>No updated organizations.</p>'}\n        `;\n\n        // Hide the loading indicator once the organizations are rendered\n        hideLoadingIndicator();\n\n        // Attach click listeners to cards after rendering\n        const organizationCards = document.querySelectorAll('.organization-card');\n        organizationCards.forEach(card => {\n            card.addEventListener('click', () => handleCardClick(card.dataset.organization));\n        });\n    }\n\n    // Function to handle organization card click\n    function handleCardClick(organizationData) {\n        appsmith.updateModel({\"organization\" : organizationData});\n        appsmith.triggerEvent(\"onOrganizationClick\");\n    }\n\n    // Function to handle search functionality\n    function handleSearch() {\n        const searchTerm = searchInput.value.toLowerCase();\n        const filteredOrganizations = organizations.filter((organization) =>\n            organization.name.toLowerCase().includes(searchTerm) ||\n            organization.address?.toLowerCase().includes(searchTerm) // Include address in the search safely\n        );\n        renderOrganizations(filteredOrganizations);\n    }\n\n    // Function to check for data and render organizations\n    function checkForData() {\n        const fetchedOrganizations = appsmith.model.organizations;\n        if (fetchedOrganizations) {\n            organizations = fetchedOrganizations; // Store the fetched organizations globally\n            renderOrganizations(organizations);\n        } else {\n            // Retry after 500ms if the data is not available yet\n            setTimeout(checkForData, 500);\n        }\n    }\n\n    // Show the loading indicator while waiting for data\n    showLoadingIndicator();\n\n    // Start checking for data\n    checkForData();\n\n    // Attach event listener to the search input for live search filtering\n    searchInput.addEventListener('input', handleSearch);\n});\n"
  },
  "version": 1,
  "widgetId": "vj7hek044q",
  "widgetName": "organizationWidget"
}