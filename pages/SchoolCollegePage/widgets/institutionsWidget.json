{
  "backgroundColor": "transparent",
  "borderColor": "#E0DEDE",
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "borderWidth": "0",
  "bottomRow": 187,
  "boxShadow": "{{appsmith.theme.boxShadow.appBoxShadow}}",
  "defaultModel": "{{institutionsJSObject.getInstitutions.data\n}}",
  "dynamicBindingPathList": [
    {
      "key": "theme"
    },
    {
      "key": "borderRadius"
    },
    {
      "key": "boxShadow"
    },
    {
      "key": "defaultModel"
    }
  ],
  "dynamicHeight": "AUTO_HEIGHT",
  "dynamicPropertyPathList": [],
  "dynamicTriggerPathList": [
    {
      "key": "onInstitutionClick"
    }
  ],
  "events": [
    "onInstitutionClick"
  ],
  "isCanvas": false,
  "isLoading": false,
  "isSearchWildcard": true,
  "isVisible": true,
  "key": "vllb69qte6",
  "leftColumn": 0,
  "maxDynamicHeight": 9000,
  "minDynamicHeight": 4,
  "mobileBottomRow": 150,
  "mobileLeftColumn": 17,
  "mobileRightColumn": 40,
  "mobileTopRow": 120,
  "needsErrorInfo": false,
  "onInstitutionClick": "{{navigateTo('InstitutionPage', {\n  \"institution\": institutionsWidget.model.institution\n}, 'SAME_WINDOW');}}",
  "originalBottomRow": 187,
  "originalTopRow": 8,
  "parentColumnSpace": 19.8125,
  "parentId": "0",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "rightColumn": 64,
  "shouldScrollContents": true,
  "srcDoc": {
    "css": ".widget-container {\n  width: auto; /* Allow width to adjust based on content */\n  height: auto; /* Allow height to adjust based on content */\n  padding: 20px;\n  font-family: Arial, sans-serif;\n  overflow: hidden; /* Prevent scrollbars from appearing */\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\nh2 {\n  margin: 0;\n  font-size: 30px;\n  color: #231f20;\n  font: inter;\n}\n\n.search-bar {\n  padding: 10px;\n  font-size: 16px;\n  width: 300px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.institutions-list {\n  display: block; /* Full width for each card */\n}\n\n.institution-card {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  padding: 15px;\n  cursor: pointer;\n  width: calc(100% - 40px); /* Full width minus any padding for margins */\n  margin: 0 auto 20px; /* Center the card horizontally with automatic left and right margins */\n}\n\n.institution-card:hover {\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n}\n\n.institution-image {\n  width: 70px;\n  height: auto;\n  margin-right: 15px;\n}\n\n.institution-info {\n  display: flex;\n  flex-direction: column; /* Stack elements vertically */\n  width: 100%; /* Full width */\n}\n\n.institution-details {\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n}\n\n.institution-name {\n  font-size: 18px;\n  font-weight: bold;\n  color: #333;\n  width: 100%;\n}\n\n.institution-description {\n  font-size: 14px;\n  color: #555;\n  margin-top: 10px;\n  text-align: justify;\n}\n\n.institution-address {\n  font-size: 14px;\n  color: #777;\n  text-align: right;\n  align-self: flex-start;\n  width: 50%;\n}\n\n.institution-row {\n  display: flex; /* Use flex to align name and address */\n  justify-content: space-between; /* Space between name and address */\n  align-items: center; /* Center align vertically */\n  width: 100%; /* Full width */\n}",
    "html": "<div class=\"widget-container\">\n  <div class=\"header\">\n    <h2>Institutions</h2>\n    <input\n      type=\"text\"\n      class=\"search-bar\"\n      id=\"searchInput\"\n      placeholder=\"Search institutions...\"\n    />\n  </div>\n\t<!-- HTML Part -->\n<div id=\"institutionsContainer\">\n  <div id=\"loadingIndicator\" style=\"text-align: center; margin-top: 20px;\"></div>\n  <div id=\"institutionsList\"></div>\n</div>\n\n\n  <!-- Loading Indicator -->\n  <div id=\"loading\" style=\"display: none;\">Loading...</div>\n\n  <!-- Add the root element for React to render into -->\n  <div id=\"root\"></div>\n\n  <div id=\"institutionsList\" class=\"institutions-list\">\n    <!-- Cards will be injected here -->\n  </div>\n</div>\n",
    "js": "import React from 'https://cdn.jsdelivr.net/npm/react@18.2.0/+esm';\nimport reactDom from 'https://cdn.jsdelivr.net/npm/react-dom@18.2.0/+esm';\nimport { Spin } from 'https://cdn.jsdelivr.net/npm/antd@5.11.1/+esm';\nappsmith.onReady(function () {\n  const institutionsList = document.getElementById('institutionsList');\n  const loadingIndicator = document.getElementById('loadingIndicator');\n  const searchInput = document.getElementById('searchInput');\n  let institutions = []; // Global variable to store fetched institutions\n\n  // Function to show Ant Design's Spin component while loading\n  function showLoadingIndicator() {\n    reactDom.render( /*#__PURE__*/React.createElement(Spin, {\n      size: \"large\",\n      tip: \"Loading institutions...\"\n    }), loadingIndicator);\n  }\n\n  // Function to hide the loading indicator once the institutions are rendered\n  function hideLoadingIndicator() {\n    reactDom.render(null, loadingIndicator); // Clear the loading spinner\n  }\n\n  // Function to render the institution details\n  function renderInstitutions(institutionsData) {\n    let htmlContent = '';\n    if (institutionsData && institutionsData.length > 0) {\n      institutionsData.forEach(institution => {\n        htmlContent += `\n                    <div class=\"institution-card\" data-institution-data='${JSON.stringify(institution).replace(\"'\", \"\")}'>\n                        <img class=\"institution-image\" src=\"${institution.image ? institution.image : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAABW1JREFUeJzt3WuIlFUcgPHHG1aKEdsFlS6ECJUYGYFQCEIgCEEgSVAWCFEQRUEUBlEUW0QRdCMpisAKiyIICiPxQwmGCIq0WGIXKyvKRdvSvKy7fZhDkbn/dXzPzHln5vnBH0GYd86c9zx+2JkdQZIkSZIkSZIkSZIkSZIkqYUmlV6A/uNiYAXwK7C/8FqkWpgEXA+sA0aA0fTnuvT3/iOmnjQbeAT4kUYUY80PwMPArCKrlNpoArAEeB8YJg7j+DmaHrckXUfqGucADwBf01wUY80u4H7g7Ha+CCm3RcBbwGHyhHH8HE7XX9SuFyRVdSZwNzBAa6IYawaAu9LzS7VzFfAacID2hnH8HABeTeuRipoG3AZsoWwUY82WtL5prdoA6UTmAS8Cv1M+gpOZ/cALad1SS0wFbgY2Uv7AV5mN6XVMzbs96lVzgKeBvZQ/3DnnN+Cp9PqkpkwGlgGf8O/HP7p1RtLrXJZetzSm84HHgJ8of3BLzB7g0bQPEgATgaXABzT/8Y9uneG0H0vT/qgHnQc8CHxL+QNZ5/kGWAWce2rbrE6zGHgbOEL5w9dJcyTt2+Lmt1x1dxZwL/Al5Q9aN8wO4J60r+pgC4HXgYOUP1TdOAfT/i48uduhOpgO3AFspfwB6qXZCtye9l81NB94CRii/GHp5RlK92F+fLvUDqcBtwKbKH8wnP/PJuCWdJ/URnOBZ4BByh8CZ/wZTPdr7olupvKYAiwHNlD+hjunPhuAG9L9VAYXAY8Dv1D+5jr55megH7gQNW0icB3wEXCM8jfTad0cAz5M99uPtYxjJvAQsJvyN85p/+xO938m+scE4FrgPRrf/VT6Jjnl5yjwLo1z0bPfAdYH3AfspPwNceo7O2mckz56xNXAG8Ahym++0znzF7CGxvnpOjOAO4HtlN9op/NnO43zNIMOtwB4BfiT8pvqdN/8AbwMXEEHOQNYCWym/AY6vTObaZy706mpS4HngH2U3yynd2cf8CxwCRnk/BHa1MzXk6oYpfHl3pIkSZIkSVKXy/lj2eX4eX7VxwjwTtWL5AzkEP6fE6qPw2T4sgj/xZcCBiIFDEQKGIgUMBApYCBSwECkQM7/1fRK/H0Q1cdo6QVIkiRJkiRJkiRJ6lB1fuf7RuCaTNfaAzxR4fEraXwRdw5fAc9XeHw/cHmmtXwGPFnh8auA2ZnWshFYm+laPWE1+b6vdVvFtazNuJb1FdeyPuNaqh7IbRnXsrriWlrCDytKAQORAgYiBQxEChiIFDAQKWAgUsBApICBSAEDkQIGIgUMRAoYiBQwEClgIFLAQKSAgUgBA5ECBiIFDEQKGIgUMBApYCBSwECkgIFIAQORAgYiBQxEChiIFDAQKWAgUsBApICBSAEDkQIGIgUMRAoYiBQwEClgIFLAQKSAgUgBA5ECBiIFDEQKGIgUMBApMKH0AgLzgQsyXWsI+LTC4xcAszKtZS/weYXHzwGmZ1rLfuC7Co9fBMzIsxS+B7ZnupYkSZIkSZIkSZLGUeqNwhVAX6HnVucaBNa08wlLBfIFcFmh51bnGgDmtfMJ/SyWFDAQKWAgUsBApICBSAEDkQIGIgUMRAoYiBQo9U765ELPq843XHoBkiRJkiRJUr3k/jHvEuDNzNeUmnUT8HGOC+V+P2IK/iqtypuS60K+ky4FDEQKGIgUMBApYCBSwECkgIFIAQORArnfKNwF9Ge+ptSsXaUXIEmSJEmSJEmSJEmSJEmSJEmSJEm18zdwdDFR/suCZAAAAABJRU5ErkJggg=='}\" alt=\"${institution.name}\" />\n                        <div class=\"institution-info\">\n                            <div class=\"institution-row\">\n                                <div class=\"institution-name\">${institution.name}</div>\n                                <div class=\"institution-address\">${institution.address || 'Address not provided'}</div>\n                            </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"institution-description\">${institution.description || 'No description available'}</div>\n                        </div>\n                    </div>\n                `;\n      });\n    } else {\n      htmlContent = '<p>No institutions available.</p>';\n    }\n    institutionsList.innerHTML = htmlContent;\n\n    // Hide the loading indicator once the institutions are rendered\n    hideLoadingIndicator();\n\n    // Attach click listeners to cards after rendering\n    const institutionCards = document.querySelectorAll('.institution-card');\n    institutionCards.forEach(card => {\n      //const institutionData = JSON.parse(card.dataset);\n      card.addEventListener('click', () => handleCardClick(card.dataset.institutionData));\n    });\n  }\n\n  // Function to handle institution card click\n  function handleCardClick(institution) {\n    appsmith.updateModel({\n      \"institution\": institution\n    });\n    appsmith.triggerEvent(\"onInstitutionClick\");\n    //alert(`Selected Institution: ${name}`);\n  }\n\n  // Function to handle search functionality\n  function handleSearch() {\n    const searchTerm = searchInput.value.toLowerCase();\n    const filteredInstitutions = institutions.filter(institution => institution.name.toLowerCase().includes(searchTerm) || institution.address?.toLowerCase().includes(searchTerm) // Include address in the search safely\n    );\n    renderInstitutions(filteredInstitutions);\n  }\n\n  // Function to check for data and render institutions\n  function checkForData() {\n    const fetchedInstitutions = appsmith.model.institutions;\n    if (fetchedInstitutions) {\n      institutions = fetchedInstitutions; // Store the fetched institutions globally\n      renderInstitutions(institutions);\n    } else {\n      // Retry after 500ms if the data is not available yet\n      setTimeout(checkForData, 500);\n    }\n  }\n\n  // Show the loading indicator while waiting for data\n  showLoadingIndicator();\n\n  // Start checking for data\n  checkForData();\n\n  // Attach event listener to the search input for live search filtering\n  searchInput.addEventListener('input', handleSearch);\n});"
  },
  "theme": "{{appsmith.theme}}",
  "topRow": 8,
  "type": "CUSTOM_WIDGET",
  "uncompiledSrcDoc": {
    "css": ".widget-container {\n  width: auto; /* Allow width to adjust based on content */\n  height: auto; /* Allow height to adjust based on content */\n  padding: 20px;\n  font-family: Arial, sans-serif;\n  overflow: hidden; /* Prevent scrollbars from appearing */\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\nh2 {\n  margin: 0;\n  font-size: 30px;\n  color: #231f20;\n\tfont: inter;\n}\n\n.search-bar {\n  padding: 10px;\n  font-size: 16px;\n  width: 300px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\n.institutions-list {\n  display: block; /* Full width for each card */\n}\n\n.institution-card {\n  display: flex;\n  flex-direction: row;\n\talign-items: center;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  padding: 15px;\n  cursor: pointer;\n  width: calc(100% - 40px); /* Full width minus any padding for margins */\n  margin: 0 auto 20px; /* Center the card horizontally with automatic left and right margins */\n}\n\n.institution-card:hover {\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n}\n\n.institution-image {\n  width: 70px;\n  height: auto;\n  margin-right: 15px;\n}\n\n.institution-info {\n  display: flex;\n  flex-direction: column; /* Stack elements vertically */\n  width: 100%; /* Full width */\n}\n\n.institution-details {\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n}\n\n.institution-name {\n  font-size: 18px;\n  font-weight: bold;\n  color: #333;\n\twidth: 100%;\n}\n\n.institution-description {\n  font-size: 14px;\n  color: #555;\n  margin-top: 10px; \n\ttext-align : justify;\n}\n\n.institution-address {\n  font-size: 14px;\n  color: #777;\n  text-align: right;\n  align-self: flex-start; \n\twidth : 50%;\n}\n\n\n\n.institution-row {\n  display: flex; /* Use flex to align name and address */\n  justify-content: space-between; /* Space between name and address */\n  align-items: center; /* Center align vertically */\n  width: 100%; /* Full width */\n}\n",
    "html": "<div class=\"widget-container\">\n  <div class=\"header\">\n    <h2>Institutions</h2>\n    <input\n      type=\"text\"\n      class=\"search-bar\"\n      id=\"searchInput\"\n      placeholder=\"Search institutions...\"\n    />\n  </div>\n\t<!-- HTML Part -->\n<div id=\"institutionsContainer\">\n  <div id=\"loadingIndicator\" style=\"text-align: center; margin-top: 20px;\"></div>\n  <div id=\"institutionsList\"></div>\n</div>\n\n\n  <!-- Loading Indicator -->\n  <div id=\"loading\" style=\"display: none;\">Loading...</div>\n\n  <!-- Add the root element for React to render into -->\n  <div id=\"root\"></div>\n\n  <div id=\"institutionsList\" class=\"institutions-list\">\n    <!-- Cards will be injected here -->\n  </div>\n</div>\n",
    "js": "import React from 'https://cdn.jsdelivr.net/npm/react@18.2.0/+esm';\nimport reactDom from 'https://cdn.jsdelivr.net/npm/react-dom@18.2.0/+esm';\nimport { Spin } from 'https://cdn.jsdelivr.net/npm/antd@5.11.1/+esm';\n\nappsmith.onReady(function() {\n    const institutionsList = document.getElementById('institutionsList');\n    const loadingIndicator = document.getElementById('loadingIndicator');\n    const searchInput = document.getElementById('searchInput');\n    let institutions = []; // Global variable to store fetched institutions\n\n    // Function to show Ant Design's Spin component while loading\n    function showLoadingIndicator() {\n        reactDom.render(<Spin size=\"large\" tip=\"Loading institutions...\" />, loadingIndicator);\n    }\n\n    // Function to hide the loading indicator once the institutions are rendered\n    function hideLoadingIndicator() {\n        reactDom.render(null, loadingIndicator); // Clear the loading spinner\n    }\n\n    // Function to render the institution details\n    function renderInstitutions(institutionsData) {\n        let htmlContent = '';\n\n        if (institutionsData && institutionsData.length > 0) {\n            institutionsData.forEach(institution => {\n                htmlContent += `\n                    <div class=\"institution-card\" data-institution-data='${JSON.stringify(institution).replace(\"'\", \"\")}'>\n                        <img class=\"institution-image\" src=\"${institution.image ? institution.image : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAABW1JREFUeJzt3WuIlFUcgPHHG1aKEdsFlS6ECJUYGYFQCEIgCEEgSVAWCFEQRUEUBlEUW0QRdCMpisAKiyIICiPxQwmGCIq0WGIXKyvKRdvSvKy7fZhDkbn/dXzPzHln5vnBH0GYd86c9zx+2JkdQZIkSZIkSZIkSZIkSZIkqYUmlV6A/uNiYAXwK7C/8FqkWpgEXA+sA0aA0fTnuvT3/iOmnjQbeAT4kUYUY80PwMPArCKrlNpoArAEeB8YJg7j+DmaHrckXUfqGucADwBf01wUY80u4H7g7Ha+CCm3RcBbwGHyhHH8HE7XX9SuFyRVdSZwNzBAa6IYawaAu9LzS7VzFfAacID2hnH8HABeTeuRipoG3AZsoWwUY82WtL5prdoA6UTmAS8Cv1M+gpOZ/cALad1SS0wFbgY2Uv7AV5mN6XVMzbs96lVzgKeBvZQ/3DnnN+Cp9PqkpkwGlgGf8O/HP7p1RtLrXJZetzSm84HHgJ8of3BLzB7g0bQPEgATgaXABzT/8Y9uneG0H0vT/qgHnQc8CHxL+QNZ5/kGWAWce2rbrE6zGHgbOEL5w9dJcyTt2+Lmt1x1dxZwL/Al5Q9aN8wO4J60r+pgC4HXgYOUP1TdOAfT/i48uduhOpgO3AFspfwB6qXZCtye9l81NB94CRii/GHp5RlK92F+fLvUDqcBtwKbKH8wnP/PJuCWdJ/URnOBZ4BByh8CZ/wZTPdr7olupvKYAiwHNlD+hjunPhuAG9L9VAYXAY8Dv1D+5jr55megH7gQNW0icB3wEXCM8jfTad0cAz5M99uPtYxjJvAQsJvyN85p/+xO938m+scE4FrgPRrf/VT6Jjnl5yjwLo1z0bPfAdYH3AfspPwNceo7O2mckz56xNXAG8Ahym++0znzF7CGxvnpOjOAO4HtlN9op/NnO43zNIMOtwB4BfiT8pvqdN/8AbwMXEEHOQNYCWym/AY6vTObaZy706mpS4HngH2U3yynd2cf8CxwCRnk/BHa1MzXk6oYpfHl3pIkSZIkSVKXy/lj2eX4eX7VxwjwTtWL5AzkEP6fE6qPw2T4sgj/xZcCBiIFDEQKGIgUMBApYCBSwECkQM7/1fRK/H0Q1cdo6QVIkiRJkiRJkiRJ6lB1fuf7RuCaTNfaAzxR4fEraXwRdw5fAc9XeHw/cHmmtXwGPFnh8auA2ZnWshFYm+laPWE1+b6vdVvFtazNuJb1FdeyPuNaqh7IbRnXsrriWlrCDytKAQORAgYiBQxEChiIFDAQKWAgUsBApICBSAEDkQIGIgUMRAoYiBQwEClgIFLAQKSAgUgBA5ECBiIFDEQKGIgUMBApYCBSwECkgIFIAQORAgYiBQxEChiIFDAQKWAgUsBApICBSAEDkQIGIgUMRAoYiBQwEClgIFLAQKSAgUgBA5ECBiIFDEQKGIgUMBApMKH0AgLzgQsyXWsI+LTC4xcAszKtZS/weYXHzwGmZ1rLfuC7Co9fBMzIsxS+B7ZnupYkSZIkSZIkSZLGUeqNwhVAX6HnVucaBNa08wlLBfIFcFmh51bnGgDmtfMJ/SyWFDAQKWAgUsBApICBSAEDkQIGIgUMRAoYiBQo9U765ELPq843XHoBkiRJkiRJUr3k/jHvEuDNzNeUmnUT8HGOC+V+P2IK/iqtypuS60K+ky4FDEQKGIgUMBApYCBSwECkgIFIAQORArnfKNwF9Ge+ptSsXaUXIEmSJEmSJEmSJEmSJEmSJEmSJEm18zdwdDFR/suCZAAAAABJRU5ErkJggg=='}\" alt=\"${institution.name}\" />\n                        <div class=\"institution-info\">\n                            <div class=\"institution-row\">\n                                <div class=\"institution-name\">${institution.name}</div>\n                                <div class=\"institution-address\">${institution.address || 'Address not provided'}</div>\n                            </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"institution-description\">${institution.description || 'No description available'}</div>\n                        </div>\n                    </div>\n                `;\n            });\n        } else {\n            htmlContent = '<p>No institutions available.</p>';\n        }\n\n        institutionsList.innerHTML = htmlContent;\n\n        // Hide the loading indicator once the institutions are rendered\n        hideLoadingIndicator();\n\n        // Attach click listeners to cards after rendering\n        const institutionCards = document.querySelectorAll('.institution-card');\n        institutionCards.forEach(card => {\n            //const institutionData = JSON.parse(card.dataset);\n            card.addEventListener('click', () => handleCardClick(card.dataset.institutionData));\n        });\n    }\n\n    // Function to handle institution card click\n    function handleCardClick(institution) {\n\t\t\t\tappsmith.updateModel({\"institution\" : institution});\n\t\t\t\tappsmith.triggerEvent(\"onInstitutionClick\");\n        //alert(`Selected Institution: ${name}`);\n    }\n\n    // Function to handle search functionality\n    function handleSearch() {\n        const searchTerm = searchInput.value.toLowerCase();\n        const filteredInstitutions = institutions.filter((institution) =>\n            institution.name.toLowerCase().includes(searchTerm) ||\n            institution.address?.toLowerCase().includes(searchTerm) // Include address in the search safely\n        );\n        renderInstitutions(filteredInstitutions);\n    }\n\n    // Function to check for data and render institutions\n    function checkForData() {\n        const fetchedInstitutions = appsmith.model.institutions;\n        if (fetchedInstitutions) {\n            institutions = fetchedInstitutions; // Store the fetched institutions globally\n            renderInstitutions(institutions);\n        } else {\n            // Retry after 500ms if the data is not available yet\n            setTimeout(checkForData, 500);\n        }\n    }\n\n    // Show the loading indicator while waiting for data\n    showLoadingIndicator();\n\n    // Start checking for data\n    checkForData();\n\n    // Attach event listener to the search input for live search filtering\n    searchInput.addEventListener('input', handleSearch);\n});\n\n"
  },
  "version": 1,
  "widgetId": "774rgqbtfk",
  "widgetName": "institutionsWidget"
}